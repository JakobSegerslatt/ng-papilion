<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ng-papilion documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ng-papilion documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>RGBValues</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/ng-papilion/src/lib/directives/high-contrast.directive.ts</code>
        </p>



        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#b">b</a>
                                </li>
                                <li>
                                        <a href="#g">g</a>
                                </li>
                                <li>
                                        <a href="#r">r</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="b"></a>
                                        <span class="name"><b>b</b><a href="#b"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>b:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="g"></a>
                                        <span class="name"><b>g</b><a href="#g"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>g:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="r"></a>
                                        <span class="name"><b>r</b><a href="#r"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>r:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Directive, Input, ElementRef, OnChanges, Renderer2 } from &#x27;@angular/core&#x27;;

/**
 * Checks the input value as a color and
 * automatically sets the classes&#x27;light-text&#x27; or &#x27;dark-text&#x27;
 * depending on which will be more visible.
 *
 * If input is not provided, it checks the element for it&#x27;s computed backgroundcolor
 *
 * @example
 * &lt;div [papHighContrast]&#x3D;&quot;myBackgroundcolor&quot;&gt;&lt;/div&gt;
 *
 * @example
 * &lt;div papHighContrast&gt;&lt;/div&gt;
 */
@Directive({
  selector: &#x27;[papHighContrast]&#x27;
})
export class HighContrastDirective implements OnChanges {
  /** Expects a css color value, e.g. &#x27;red&#x27;, &#x27;#55c9a3&#x27; or &#x27;rgb(131,167,28)&#x27; */
  @Input() papHighContrast: string;

  constructor(private el: ElementRef) { }

  /** Everytime the input color is changed, check which class to set */
  ngOnChanges() {
    this.applyContrastClass();
  }

  /**
   * Adds the corresponding class to an element based
   * on the input color or computed backgroundcolor
   */
  private applyContrastClass(): void {
    const backgroundColor &#x3D; this.papHighContrast || window.getComputedStyle(this.el.nativeElement).backgroundColor;

    if (backgroundColor.length &gt; 0) {
      // Format color
      const rgb &#x3D; this.extractRGBColors(backgroundColor);

      // Switch the text color accordingly
      const textColor &#x3D; this.getContrastYIQ(rgb);

      // Remove old class names
      this.el.nativeElement.classList.remove(&#x27;light-text&#x27;);
      this.el.nativeElement.classList.remove(&#x27;dark-text&#x27;);

      if (textColor &#x3D;&#x3D;&#x3D; &#x27;light&#x27;) {
        this.el.nativeElement.classList.add(&#x27;light-text&#x27;);
      } else {
        this.el.nativeElement.classList.add(&#x27;dark-text&#x27;);
      }
    }
  }

  /**
   * Accepts an object with rgb values as properties
   *
   * Calulation based on
   * http://24ways.org/2010/calculating-color-contrast/
   */
  private getContrastYIQ(color: RGBValues): &#x27;dark&#x27; | &#x27;light&#x27; {
    const { r, g, b } &#x3D; color;

    const yiq &#x3D; ((r * 299) + (g * 587) + (b * 114)) / 1000;

    return (yiq &gt;&#x3D; 128) ? &#x27;dark&#x27; : &#x27;light&#x27;;
  }

  /** Accepts css color value and returns an object with its rgb values */
  private extractRGBColors(color: string): RGBValues {
    let r: number;
    let g: number;
    let b: number;

    /** Check HEXCOLOR */
    if (color[0] &#x3D;&#x3D;&#x3D; &#x27;#&#x27;) {
      r &#x3D; parseInt(color.substr(1, 2), 16);
      g &#x3D; parseInt(color.substr(3, 2), 16);
      b &#x3D; parseInt(color.substr(5, 2), 16);
    } else if (color.substr(0, 3).toLocaleLowerCase() &#x3D;&#x3D;&#x3D; &#x27;rgb&#x27;) {
      /** RGB COLOR rgb(255, 152, 0) */
      color &#x3D; color.substr(4);

      let rgbR &#x3D; color.split(&#x27;,&#x27;)[0];
      if (rgbR !&#x3D;&#x3D; null) {
        rgbR &#x3D; rgbR.replace(/[^0-9.]/g, &#x27;&#x27;);
        r &#x3D; Number(rgbR);
      }

      let rgbG &#x3D; color.split(&#x27;,&#x27;)[1];
      if (rgbG !&#x3D;&#x3D; null) {
        rgbG &#x3D; rgbG.replace(/[^0-9.]/g, &#x27;&#x27;);
        g &#x3D; Number(rgbG);
      }

      let rgbB &#x3D; color.split(&#x27;,&#x27;)[2];
      if (rgbB !&#x3D;&#x3D; null) {
        rgbB &#x3D; rgbB.replace(/[^0-9.]/g, &#x27;&#x27;);
        b &#x3D; Number(rgbB);
      }
    } else {
      /** String color, e.g. &#x27;red&#x27; or &#x27;salmon&#x27; */
      // TODO: figure out how to convert &#x27;salmon&#x27; to rgb.
    }

    return { r, g, b };
  }
}

interface RGBValues {
  r: number;
  g: number;
  b: number;
}
</code></pre>
    </div>
</div>






                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'RGBValues.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
